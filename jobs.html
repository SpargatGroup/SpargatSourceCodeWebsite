<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Careers - Join Spargat Group</title>

    <!-- Meta Tags (Same as before) -->
    <meta name="description" content="Join Spargat Group: A Developer Group, Small But Great Team! Explore opportunities to contribute.">
    <meta property="og:title" content="Careers at Spargat Group">
    <meta property="og:description" content="A Developer Group, Small But Great Team!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://spargatgroup.github.io/jobs.html">
    <meta property="og:site_name" content="Spargat Group">
    <meta property="og:image" content="https://glowing-boba-bb33bb.netlify.app/logo_home.png">
    <meta property="og:image:alt" content="Spargat Group Logo">
    <meta property="og:locale" content="en_US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Careers at Spargat Group">
    <meta name="twitter:description" content="A Developer Group, Small But Great Team!">
    <meta name="twitter:image" content="https://glowing-boba-bb33bb.netlify.app/logo_home.png">
    <meta name="theme-color" content="#7950F2">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script> {/* LENIS SCRIPT */}
    <style>
        :root {
            --primary: #7950F2; --primary-light: #926BFF; --primary-glow: rgba(121, 80, 242, 0.5);
            --primary-soft-glow: rgba(121, 80, 242, 0.3); --dark-bg: #0D0C1D; --content-bg: #121127;
            --content-bg-alpha: rgba(18, 17, 39, 0.85); --border-color: rgba(121, 80, 242, 0.2);
            --light-text: #E0E7FF; --medium-text: #A0A8C0; --navbar-height-desktop: 70px;
            --scrollbar-track: #1A1932; --scrollbar-thumb: var(--primary);
            --scrollbar-thumb-hover: var(--primary-light); --primary-rgb: 121, 80, 242;
            --announcement-bg: rgba(var(--primary-rgb), 0.15);
            --announcement-text: var(--light-text);
            --announcement-link: var(--primary-light);
            --total-fixed-offset: 70px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; background: var(--dark-bg); scrollbar-gutter: stable both-edges; }
        body {
            font-family: 'Poppins', sans-serif; background-color: var(--dark-bg); color: var(--light-text);
            line-height: 1.7; overflow-x: hidden; min-height: 100vh; position: relative;
            scrollbar-width: thin; scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
            padding-top: var(--total-fixed-offset);
            transition: padding-top 0.3s ease-out;
            -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;
        }
        pre, code, input, textarea { -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; user-select: text; }
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--scrollbar-track); }
        ::-webkit-scrollbar-thumb { background-color: var(--scrollbar-thumb); border-radius: 10px; border: 2px solid var(--scrollbar-track); }
        ::-webkit-scrollbar-thumb:hover { background-color: var(--scrollbar-thumb-hover); }

        #preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--dark-bg); z-index: 10001; display: flex; align-items: center; justify-content: center; opacity: 1; visibility: visible; transition: opacity 0.5s ease-out 0.2s, visibility 0.5s ease-out 0.2s; }
        #preloader.loaded { opacity: 0; visibility: hidden; pointer-events: none; }
        .spinner { width: 50px; height: 50px; border: 5px solid rgba(var(--primary-rgb), 0.2); border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        #particles-js { position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: 0; opacity: 0.08; }
        .content-wrapper { position: relative; z-index: 1; }

        .announcement-box { background-color: var(--announcement-bg); color: var(--announcement-text); padding: 0.75rem 1.5rem; text-align: center; font-size: 0.9rem; position: fixed; left: 0; width: 100%; z-index: 999; box-shadow: 0 2px 10px rgba(0,0,0,0.2); display: flex; justify-content: center; align-items: center; gap: 0.75rem; transition: transform 0.3s ease-out, opacity 0.3s ease-out; transform: translateY(0%); }
        .announcement-box.hidden { transform: translateY(-200%); opacity: 0; pointer-events: none; }
        .announcement-box p { margin: 0; }
        .announcement-box a { color: var(--announcement-link); text-decoration: underline; font-weight: 600; }
        .announcement-close { background: none; border: none; color: var(--light-text); font-size: 1.2rem; cursor: pointer; opacity: 0.7; padding: 0.25rem 0.5rem; line-height: 1; }

        .navbar { position: fixed; top: 0; left:0; width: 100%; background: var(--content-bg-alpha); backdrop-filter: blur(15px); z-index: 1000; box-shadow: 0 1px 5px rgba(0,0,0,0.3); border-bottom: 1px solid var(--border-color); height: var(--navbar-height-desktop); display:flex; align-items: center; }
        .nav-container { max-width: 1200px; width:100%; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 2rem; }
        .nav-logo-link { display: flex; align-items: center;}
        .nav-logo { height: 38px; transition: transform 0.3s ease, filter 0.3s ease; filter: drop-shadow(0 0 5px var(--primary-soft-glow)); }
        .nav-links { display: flex; gap: 1.2rem; }
        .nav-links a { color: var(--medium-text); text-decoration: none; font-weight: 500; transition: color 0.3s ease, text-shadow 0.3s ease; position: relative; padding: 0.5rem 0.25rem; font-size: 0.9rem; }
        .nav-links a.active { color: var(--light-text); text-shadow: 0 0 8px var(--primary-soft-glow); }
        .nav-links a::after { content: ''; position: absolute; bottom: -2px; left: 50%; transform: translateX(-50%); width: 0; height: 2px; background: var(--primary); border-radius:1px; transition: width 0.3s ease-out; }
        .nav-links a.active::after, .nav-links a:hover::after { width: 100%; }

        .container { max-width: 900px; margin: 0 auto; padding: 0 1.5rem; width: 100%; }
        .jobs-hero { padding-bottom: 2rem; text-align: center; position: relative; }
        main > section { padding-top: 3rem; padding-bottom: 3rem; min-height: auto; }
        section[id] { scroll-margin-top: var(--total-fixed-offset); } /* For Lenis/browser native scroll to hash */
        
        #openApplyModalBtnSticky { /* This is the button that might be sticky */
            /* Default styles, will be overridden by .is-sticky if Locomotive is used and configured */
            font-size: 1rem; padding: 0.8rem 2rem;
            /* No fixed positioning here by default */
        }
        #openApplyModalBtnSticky[data-scroll-sticky].is-sticky { /* If using Locomotive sticky */
            position: fixed !important; bottom: 2.5rem; right: 2.5rem;
            left: auto; top: auto; transform: none !important; z-index: 997;
            box-shadow: 0 8px 20px var(--primary-glow);
        }


        .jobs-hero h1 { font-size: clamp(2rem, 5vw, 3.2rem); font-weight: 700; margin-bottom: 0.8rem; line-height: 1.25; color: var(--light-text); text-shadow: 0 0 12px var(--primary-soft-glow); }
        .jobs-hero p.subtitle { font-size: clamp(0.9rem, 2vw, 1.15rem); max-width: 650px; margin: 0 auto 1.5rem; color: var(--medium-text); font-weight: 400; }
        .section-title { font-size: clamp(1.6rem, 3.5vw, 2.2rem); font-weight: 600; margin-bottom: 2rem; color: var(--light-text); position: relative; padding-bottom: 0.5rem; text-shadow: 0 0 6px var(--primary-soft-glow); border-bottom: 1px solid var(--border-color); }
        .content-section ul { list-style: none; padding-left: 0; margin-bottom: 1.5rem; }
        .content-section ul li { background: rgba(var(--primary-rgb), 0.05); border-left: 3px solid var(--primary); padding: 0.7rem 1rem; margin-bottom: 0.6rem; border-radius: 4px; color: var(--medium-text); font-size: 0.9rem; transition: background-color 0.3s ease, border-color 0.3s ease; }
        .content-section ul li::before { content: "\f058"; font-family: "Font Awesome 6 Free"; font-weight: 900; color: var(--primary-light); margin-right: 0.7rem; font-size:0.9em; }
        .content-section ul li:hover { background: rgba(var(--primary-rgb), 0.1); border-left-color: var(--primary-light); }
        .content-section p { color: var(--medium-text); margin-bottom: 1.2rem; font-size: 0.95rem; line-height: 1.75; }
        .content-section strong { color: var(--light-text); }
        .btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.7rem 1.3rem; border-radius: 6px; font-weight: 500; font-size: 0.9rem; text-decoration: none; transition: all 0.25s ease-out; cursor: pointer; border: 1px solid transparent; margin-right: 0.5rem; margin-bottom: 0.8rem; }
        .btn i { margin-right: 0.3em; font-size: 1em; }
        .btn-primary { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%); color: white; box-shadow: 0 4px 10px var(--primary-soft-glow), 0 2px 5px rgba(0,0,0,0.2); }
        .btn-primary:hover, .btn-primary:focus { background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%); box-shadow: 0 6px 15px var(--primary-glow), 0 3px 7px rgba(0,0,0,0.3); transform: translateY(-2px); }
        .apply-buttons-container { margin-top: 1.5rem; display:flex; flex-wrap:wrap; gap: 0.5rem; }
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); backdrop-filter: blur(5px); z-index: 10002; display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0s linear 0.3s; }
        .modal-overlay.active { opacity: 1; visibility: visible; transition-delay: 0s; }
        .modal-content { background-color: var(--content-bg); padding: 2rem 2.5rem; border-radius: 10px; border: 1px solid var(--border-color); box-shadow: 0 10px 30px rgba(0,0,0,0.3); width: 90%; max-width: 500px; text-align: center; transform: scale(0.9); opacity: 0; transition: transform 0.3s ease, opacity 0.3s ease; }
        .modal-overlay.active .modal-content { transform: scale(1); opacity: 1; }
        .modal-content h3 { color: var(--primary-light); font-size: 1.6rem; margin-bottom: 1.5rem; text-shadow: 0 0 8px var(--primary-soft-glow); }
        .modal-content p { color: var(--medium-text); margin-bottom: 2rem; font-size:0.95rem; }
        .modal-buttons .btn { margin: 0.5rem auto; display: block; width: calc(100% - 1rem); max-width: 280px; }
        .modal-close-btn { position: absolute; top: 1rem; right: 1.5rem; background: none; border: none; font-size: 1.8rem; color: var(--medium-text); cursor: pointer; transition: color 0.2s; }
        .modal-close-btn:hover { color: var(--light-text); }
        .footer { text-align: center; padding: 2.5rem 0 2rem; margin-top:3rem; border-top: 1px solid var(--border-color); background: var(--dark-bg); }
        .footer .section-title { font-size: clamp(1.5rem, 3.5vw, 1.8rem); margin-bottom: 1.2rem; }
        .footer p:not(.copyright) { color: var(--medium-text); margin-bottom: 1.5rem; font-size:0.9rem; max-width: 90%; margin-left:auto; margin-right:auto;}
        .social-links { display: flex; justify-content: center; gap: 0.8rem; margin-bottom: 2rem;}
        .social-links a { width: 38px; height: 38px; background: rgba(var(--primary-rgb), 0.1); color: var(--medium-text); font-size: 1rem; border-radius: 50%; transition: all 0.2s ease; border: 1px solid var(--border-color); display: flex; align-items: center; justify-content: center; }
        .social-links a:hover, .social-links a:focus { background: var(--primary); color:white; transform: translateY(-3px) scale(1.1); box-shadow: 0 4px 10px var(--primary-soft-glow); border-color:var(--primary); }
        .copyright { color: var(--medium-text); font-size: 0.75rem; opacity: 0.7;}

        @media (max-width: 768px) {
            .navbar { height:auto; }
            .nav-container { flex-direction: column; gap: 0.5rem; padding-top:0.8rem; padding-bottom: 0.8rem;}
            .nav-logo { height: 34px; }
            .nav-links { gap: 0.4rem 0.8rem; justify-content: center; flex-wrap: wrap;}
            .nav-links a { font-size:0.8rem; padding: 0.3rem 0.15rem; }
            .jobs-hero h1 { font-size: clamp(1.8rem, 5vw, 2.8rem); }
            .jobs-hero p.subtitle { font-size: clamp(0.85rem, 2vw, 1.1rem); }
            .section-title { font-size: clamp(1.5rem, 3.5vw, 2rem); margin-bottom: 1.5rem; }
            .content-section ul li { font-size: 0.85rem; padding: 0.6rem 0.9rem; }
            .content-section p { font-size: 0.9rem; }
            .btn { padding: 0.6rem 1.1rem; font-size:0.85rem; }
            #openApplyModalBtnSticky[data-scroll-sticky].is-sticky { bottom: 1.5rem; right: 1.5rem; padding: 0.6rem 1.1rem; font-size:0.85rem; width: auto; }
            .apply-buttons-container { justify-content: center; }
            .modal-content { padding: 1.5rem; }
            .modal-content h3 {font-size: 1.4rem;}
            .announcement-box { font-size: 0.8rem; padding: 0.5rem 1rem; flex-direction: column; gap: 0.25rem;}
        }
        @media (max-width: 480px) {
            .container { padding: 0 1rem; }
            .jobs-hero h1 { font-size: clamp(1.6rem, 6vw, 2.2rem); }
            .jobs-hero p.subtitle { font-size: clamp(0.8rem, 3vw, 1rem); }
            .section-title {font-size: clamp(1.4rem, 4vw, 1.8rem);}
            .apply-buttons-container a.btn { width: 100%; margin-right: 0; }
            #openApplyModalBtnSticky[data-scroll-sticky].is-sticky { width: calc(100% - 2rem); left: 1rem; right: 1rem; transform: none !important; text-align: center; }
        }
    </style>
</head>
<body>
    <div id="preloader"><div class="spinner"></div></div>

    <div class="announcement-box" id="announcementBox">
        <p>Help the Blockman Launcher project get released. Read this <a href="jobs.html">careers page</a> to learn more.</p>
        <button class="announcement-close" id="closeAnnouncement" aria-label="Close announcement">×</button>
    </div>

    <div id="particles-js"></div>
    <div class="content-wrapper"> {/* This div is for content that is NOT fixed, but will be scrolled by Lenis */}
        <nav class="navbar">
            <div class="nav-container">
                <a href="index.html" class="nav-logo-link">
                    <img src="https://glowing-boba-bb33bb.netlify.app/logo_home.png" alt="Spargat Group Logo" class="nav-logo">
                </a>
                <div class="nav-links">
                    <a href="index.html#about">About Us</a>
                    <a href="index.html#initiatives">Initiatives</a>
                    <a href="index.html#mission">Our Mission</a>
                    <a href="jobs.html" class="active">Careers</a>
                    <a href="index.html#contact">Connect</a>
                </div>
            </div>
        </nav>

        <header class="jobs-hero" id="careers-hero"> {/* Changed ID for clarity */}
            <div class="container">
                <h1>Shape the Future with Spargat Group</h1>
                <p class="subtitle">We're seeking passionate developers and contributors to help us build the next generation of Blockman GO tools and experiences.</p>
                <button class="btn btn-primary" id="openApplyModalBtnSticky"
                        style="font-size: 1rem; padding: 0.8rem 2rem;"
                        data-scroll data-scroll-sticky data-scroll-target="#careers-hero" data-scroll-offset="30%, -30%">
                    <i class="fas fa-paper-plane"></i> Express Interest
                </button>
            </div>
        </header>

        <main>
            <section id="why-join" class="content-section">
                <div class="container">
                    <h2 class="section-title"><i class="fas fa-star"></i> Why Join Spargat Group?</h2>
                    <div class="grid">
                        <div class="card"><div class="card-content"><h3><i class="fas fa-users"></i> Impactful Community</h3><p>Be part of a dedicated team making a real difference in the Blockman GO ecosystem, driven by community needs.</p></div></div>
                        <div class="card"><div class="card-content"><h3><i class="fas fa-lightbulb"></i> Innovate & Learn</h3><p>Work on exciting projects, explore new technologies, and grow your skills in a collaborative environment.</p></div></div>
                        <div class="card"><div class="card-content"><h3><i class="fas fa-code-branch"></i> Open Principles</h3><p>Contribute to projects that value accessibility and aim to empower players and creators worldwide.</p></div></div>
                    </div>
                </div>
            </section>

            <section id="what-we-look-for" class="content-section" style="background-color: rgba(var(--primary-rgb), 0.03);">
                <div class="container">
                    <h2 class="section-title"><i class="fas fa-user-astronaut"></i> What We're Looking For</h2>
                    <div class="content-block">
                        <p>We welcome individuals who are passionate, proactive, and eager to learn. Key skills and interests include:</p>
                        <ul>
                            <li>Proficiency in relevant languages: C, Java, Kotlin, C++, Bash.</li>
                            <li>Strong experience with Git version control for collaborative development.</li>
                            <li>Interest or experience in game development, server management, or backend systems.</li>
                            <li>Ability to work effectively within a remote team and communicate clearly.</li>
                            <li>A commitment to quality and a proactive approach to problem-solving.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="dev-environment" class="content-section">
                <div class="container">
                    <h2 class="section-title"><i class="fas fa-cogs"></i> Our Development Environment</h2>
                    <div class="content-block">
                        <h3>Project Approach</h3>
                        <p>Our core projects are developed under a closed-source model to maintain focus and integrity. This allows us to ensure quality and a cohesive vision. However, we strongly believe in transparency regarding our goals and actively engage with the community for feedback and direction.</p>
                        <h3>Code Access & Collaboration</h3>
                        <p>Trusted volunteers and dedicated developers are granted access to specific project repositories or modules on a need-to-know basis, relevant to their contributions. We primarily use a private GitLab server for collaborative development, fostering a secure and organized workflow.</p>
                        <h3>Contribution Expectations</h3>
                        <ul>
                            <li><strong>Confidentiality:</strong> Respect for project confidentiality is paramount. No unauthorized sharing of source code or internal development details.</li>
                            <li><strong>Active Engagement:</strong> We value consistent and meaningful contributions. Regular communication and commits are key, especially for active projects.</li>
                            <li><strong>Attribution:</strong> When permitted to use Spargat Group code or assets in related projects, proper copyright and credit are always required.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="contributor-privileges" class="content-section" style="background-color: rgba(var(--primary-rgb), 0.03);">
                <div class="container">
                    <h2 class="section-title"><i class="fas fa-key"></i> Contributor Privileges</h2>
                    <div class="content-block">
                    <p>Active and trusted contributors to Spargat Group projects may receive several benefits, including:</p>
                    <ul>
                        <li><strong>GitLab Access:</strong> Full access to our private Spargat Group GitLab server for seamless collaboration on core projects.</li>
                        <li>Repository Access: Access to specific project repositories for development, testing, and creating related tools or servers (e.g., for CubicalCore).</li>
                        <li>Code Usage Rights: Permission to utilize designated code snippets or libraries for personal or related developer projects, with clear attribution.</li>
                        <li>Development Resources: Potential access to development databases, testing environments, and other internal resources relevant to team projects.</li>
                        <li>Direct Impact: The opportunity to directly influence the direction and features of widely-used community tools.</li>
                    </ul>
                    </div>
                </div>
            </section>

            <section id="how-to-connect" class="content-section">
                <div class="container" style="text-align:center;">
                    <h2 class="section-title"><i class="fas fa-hands-helping"></i> Ready to Connect?</h2>
                    <p>If you're excited by our mission and believe you have the skills to contribute, we encourage you to express your interest. Click the button below to see how to get in touch with our project leads for an initial conversation.</p>
                     <button class="btn btn-primary" id="openApplyModalBtnAgain" style="margin-top:1.5rem; font-size: 1rem; padding: 0.8rem 2.5rem;">
                        <i class="fas fa-comments"></i> Show Contact Options
                    </button>
                </div>
            </section>
        </main>

        <footer class="footer" id="page-footer">
            <div class="container">
                <h2 class="section-title" style="font-size: 1.5rem; margin-bottom: 1rem;">Spargat Group</h2>
                <p style="font-size:0.9rem; margin-bottom:1.5rem;">Innovating for the Blockman Ecosystem.</p>
                <div class="social-links">
                    <a href="https://github.com/spargatgroup" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
                    <a href="https://gitlab.com/spargat" target="_blank" title="GitLab"><i class="fab fa-gitlab"></i></a>
                    <a href="https://discord.gg/PqZtGn3HMn" target="_blank" title="Discord"><i class="fab fa-discord"></i></a>
                    <a href="https://youtube.com/@BlockmanLauncher" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>
                    <a href="https://spargat.itch.io/" target="_blank" title="Itch.io"><i class="fab fa-itch-io"></i></a>
                </div>
                <p class="copyright">&copy; 2024 Spargat Group. A community-driven organization. <br>Not affiliated with NetEase or Mojang. Blockman GO is a registered trademark of NetEase.</p>
            </div>
        </footer>
    </div> <!-- END .content-wrapper -->

    <div class="modal-overlay" id="applyModal">
        <div class="modal-content">
            <button class="modal-close-btn" id="closeModalBtn" aria-label="Close modal">×</button>
            <h3>Contact Our Project Leads</h3>
            <p>Please reach out to one of our owners on Discord to express your interest and discuss potential contributions:</p>
            <div class="modal-buttons">
                <a href="https://discord.com/users/1324359704180162592" target="_blank" class="btn btn-primary"><i class="fab fa-discord"></i> Contact Comical</a>
                <a href="https://discord.com/users/741001633881915403" target="_blank" class="btn btn-primary"><i class="fab fa-discord"></i> Contact TheKing</a>
                <a href="https://discord.com/users/1146924441541025835" target="_blank" class="btn btn-primary"><i class="fab fa-discord"></i> Contact Anatine</a>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.js"></script>
    <script>
        // JS for jobs.html with Locomotive Scroll, Announcement, Modal, Sticky Button
        document.addEventListener("DOMContentLoaded", function() {
            // NO Lenis initialization here, using Locomotive Scroll
            const scrollContainer = document.querySelector('[data-scroll-container]');
            let locoScroll;

            const navbar = document.querySelector('.navbar');
            const announcementBox = document.getElementById('announcementBox');
            const bodyElement = document.body; // For body padding
            // const scrollContentWrapper = scrollContainer ? scrollContainer.querySelector('.loco-scroll-content-wrapper') : null; // Not needed if padding body

            const getNavbarHeight = () => (navbar ? navbar.offsetHeight : 0);
            const getAnnouncementHeight = () => (announcementBox && !announcementBox.classList.contains('hidden') ? announcementBox.offsetHeight : 0);

            function adjustLayout() {
                const navHeight = getNavbarHeight();
                const annHeight = getAnnouncementHeight();
                const totalFixedOffset = navHeight + annHeight;

                document.documentElement.style.setProperty('--total-fixed-offset', `${totalFixedOffset}px`);
                if (announcementBox) announcementBox.style.top = `${navHeight}px`;
                bodyElement.style.paddingTop = `${totalFixedOffset}px`; // Apply padding to body
                
                // For Locomotive, scroll-margin-top on sections inside the scroll container
                document.querySelectorAll('[data-scroll-container] [data-scroll-section][id]').forEach(sec => {
                    sec.style.scrollMarginTop = `0px`; // Reset, loco offset handles this
                });

                if (locoScroll) locoScroll.update();
            }
            
            function initLocoScroll() {
                if (!scrollContainer) { console.error("Locomotive Scroll container not found!"); return; }
                if (locoScroll) locoScroll.destroy();
                locoScroll = new LocomotiveScroll({ 
                    el: scrollContainer, 
                    smooth: true, 
                    lerp: 0.08, 
                    smartphone: { smooth: true }, 
                    tablet: { smooth: true },
                    getDirection: true
                });
                setTimeout(() => { if (locoScroll) locoScroll.update(); }, 350);
                
                new ResizeObserver(() => { if (locoScroll) locoScroll.update(); adjustLayout(); }).observe(scrollContainer);

                const navLinks = document.querySelectorAll(".nav-links a");
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === 'jobs.html') {
                        link.classList.add('active');
                    }
                });

                document.querySelectorAll('a[data-scroll-to], a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        const hrefVal = this.dataset.scrollTo || this.getAttribute('href');
                        if (!hrefVal || !hrefVal.startsWith("#")) return;
                        e.preventDefault();
                        const totalFixedOffsetForScrollTo = getNavbarHeight() + getAnnouncementHeight();
                        const targetElement = document.querySelector(hrefVal);
                        if (targetElement) {
                            locoScroll.scrollTo(targetElement, { offset: -totalFixedOffsetForScrollTo + 15, duration: 1200 });
                        } else if (hrefVal === "#" || hrefVal === "#careers-hero") {
                            locoScroll.scrollTo(0, { duration: 1200 });
                        }
                    });
                });
                 if (window.location.hash) {
                    setTimeout(() => {
                        const hash = window.location.hash;
                        const targetElement = document.querySelector(hash);
                        if (targetElement) {
                            const totalFixedOffsetForScrollTo = getNavbarHeight() + getAnnouncementHeight();
                            locoScroll.scrollTo(targetElement, { offset: -totalFixedOffsetForScrollTo + 15, duration: 0, disableLerp: true });
                        } else if (hash === "#" || hash === "#careers-hero"){
                             locoScroll.scrollTo(0, { duration: 0, disableLerp: true });
                        }
                    }, 250);
                } else {
                    setTimeout(() => { if(locoScroll) locoScroll.scrollTo(0, {duration:0, disableLerp: true}); }, 250);
                }
            }

            const closeAnnouncementBtn = document.getElementById('closeAnnouncement');
            if (announcementBox && closeAnnouncementBtn) {
                announcementBox.classList.remove('hidden');
                closeAnnouncementBtn.addEventListener('click', () => {
                    announcementBox.classList.add('hidden');
                    adjustLayout();
                });
            }
            
            adjustLayout(); // Initial call before loco init
            window.addEventListener('resize', adjustLayout);
            initLocoScroll(); // Init Loco Scroll


            const modalOverlay = document.getElementById('applyModal');
            const openModalBtns = document.querySelectorAll('#openApplyModalBtnSticky, #openApplyModalBtnAgain');
            const closeModalBtn = document.getElementById('closeModalBtn');
            openModalBtns.forEach(btn => { if(btn) btn.addEventListener('click', (e) => { e.preventDefault(); modalOverlay.classList.add('active'); }); });
            if(closeModalBtn) closeModalBtn.addEventListener('click', () => modalOverlay.classList.remove('active'));
            if(modalOverlay) modalOverlay.addEventListener('click', (event) => { if (event.target === modalOverlay) modalOverlay.classList.remove('active'); });
            document.addEventListener('keydown', (event) => { if (event.key === 'Escape' && modalOverlay && modalOverlay.classList.contains('active')) modalOverlay.classList.remove('active'); });
        });
    </script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        if (window.particlesJS) {
            const primaryColorVal = getComputedStyle(document.documentElement).getPropertyValue('--primary').trim(); particlesJS('particles-js', { particles: { number: { value: 30, density: { enable: true, value_area: 1000 } }, color: { value: primaryColorVal }, shape: { type: "circle" }, opacity: { value: 0.25, random: true, anim: { enable: true, speed: 0.4, opacity_min: 0.05, sync: false } }, size: { value: 2, random: true }, line_linked: { enable: true, distance: 150, color: primaryColorVal, opacity: 0.08, width: 1 }, move: { enable: true, speed: 0.7, direction: "none", random: true, straight: false, out_mode: "out" } }, interactivity: { detect_on: "canvas", events: { onhover: { enable: true, mode: "grab" }, onclick: { enable: false }, resize: true }, modes: { grab: { distance: 110, line_opacity: 0.1 } } }, retina_detect: true });
        }
    </script>
    <script>
        (function() { /* Preloader JS */
            const preloader = document.getElementById('preloader'); function hidePreloader() { if (preloader) { preloader.classList.add('loaded'); setTimeout(() => { if (preloader && preloader.parentNode) { preloader.parentNode.removeChild(preloader); } }, 700); } } if (document.readyState === 'complete') { hidePreloader(); } else { window.addEventListener('load', hidePreloader); }
        })();
    </script>
</body>
</html>